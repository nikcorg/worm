<!doctype html>
<html>
    <head>
        <meta charset="utf-8">
        <title>Worm!</title>
        <script src="jam/require.js"></script>
        <script>
            version = "0.0.8";
            requirejs.config({
                "baseUrl": "js",
                "urlArgs": "v=" + version // Break out from cache
            });
        </script>
        <link rel="stylesheet" href="css/style.css">
    </head>
    <body>
        <h1>Worm!</h1>
        <p><input type="text" name="nick" placeholder="Your name for the high scores table" autofocus></p>
        <div class="canvasContainer"><p>Loading, please wait...</p></div>
        <p>Use arrow keys to steer, spacebar to (un)pause</p>
        <p>Edges wrap, hitting the body ends the game.</p>
        <p>Reload page to restart game.</p>
        <div class="toplist" hidden><h2>High scores</h2><ol></ol></div>
        <p><i>Disclaimer:</i> This is just a <abbr title="Proof of Concept">POC</abbr> and this game is not guaranteed to work anywhere. (But in a recent browser there are no reasons why it wouldn't.)</p>
        <script>
            require(["caps"], function (Caps) {
                try {
                    Caps.satisfy(
                        ["Canvas", "Canvas.fillText", "Array.map", "Array.forEach", "Array.some", "Array.reduce", "classList", "querySelector"],
                        function () {
                            var app = require(["main"], function (app) {;
                                app.init();
                                });
                            }
                        );
                } catch (e) {
                    var nodes = document.getElementsByClassName("canvasContainer");
                    if (nodes.length > 0) {
                        nodes[0].innerHTML = "looks like your browser isn't compatible.";
                    }
                }
            });
        </script>
    </body>
</html>
